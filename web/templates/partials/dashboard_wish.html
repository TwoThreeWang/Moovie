{{ if .Wish }}
<div class="movie-grid">
    {{ range .Wish }}
    <div class="movie-card-wrapper" id="wish-{{ .ID }}">
        <a href="/movie/{{ .MovieID }}?title={{ .Title }}" class="movie-card">
            <div class="movie-poster">
                <img src="{{ if contains .Poster "tmdb" }}{{ .Poster }}{{ else }}https://image.baidu.com/search/down?url={{ .Poster }}{{ end }}" alt="{{ .Title }}" loading="lazy" referrerpolicy="no-referrer" onerror="this.onerror=null;this.src='/static/img/placeholder.svg'">
                {{ if .Rating }}
                <span class="movie-rating">{{ .Rating }}</span>
                {{ end }}
            </div>
            <div class="movie-info">
                <h3 class="movie-title">{{ .Title }}</h3>
                <p class="movie-year">{{ .Year }}</p>
            </div>
        </a>
        <button class="watch-delete-btn"
                hx-delete="/api/user-movies/{{ .MovieID }}"
                hx-target="#wish-{{ .ID }}"
                hx-swap="outerHTML"
                hx-confirm="确定取消“想看”吗？"
                title="取消此标记">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
    {{ end }}
{{ else }}
<div class="empty-state">
    <p>还没有“想看”的影片</p>
    <a href="/" class="btn btn-primary">去发现好片</a>
</div>
{{ end }}
