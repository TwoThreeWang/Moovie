
{{ define "content" }}
<div class="search-hero">
    <form class="search-form" action="/search" method="GET">
        <div class="search-input-wrapper">
            <input
                type="text"
                name="q"
                class="search-input"
                value="{{ .Keyword }}"
                placeholder="æœç´¢ç”µå½±ã€ç”µè§†å‰§..."
                autocomplete="off"
            >
            <button type="submit" class="search-btn">æœç´¢</button>
        </div>
    </form>
    <p class="search-result-hint">ã€Œ{{ .Keyword }}ã€çš„æœç´¢ç»“æœ</p>
</div>

{{ if .Results }}
<div class="search-result-grid">
    {{ range .Results }}
    <a href="/movie/{{ .DoubanID }}" class="search-result-card">
        <div class="card-poster">
            <img src="{{ .Poster }}" alt="{{ .Title }}" loading="lazy" onerror="this.onerror=null;this.src='/static/img/placeholder.jpg'">
        </div>
        <div class="card-content">
            <h3 class="card-title">{{ .Title }}</h3>
            <div class="card-meta-row">
                {{ if .Year }}<span class="card-year">{{ .Year }}</span>{{ end }}
                {{ if .Region }}<span class="card-region">{{ .Region }}</span>{{ end }}
            </div>
            {{ if .Genres }}
            <p class="card-genres">{{ .Genres }}</p>
            {{ end }}
            {{ if .Director }}
            <p class="card-director">å¯¼æ¼”: {{ .Director }}</p>
            {{ end }}
            <div class="card-sources">
                {{ range .Sources }}
                <span class="source-item {{ .Status }}">
                    {{ .Name }} {{ if .Speed }}<span class="speed">{{ .Speed }}</span>{{ end }}
                </span>
                {{ end }}
            </div>
        </div>
    </a>
    {{ end }}
</div>
{{ else }}
<div class="empty-state">
    <p>ğŸ˜• æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</p>
    <p>è¯•è¯•å…¶ä»–å…³é”®è¯ï¼Œæˆ–<a href="/feedback">å‘Šè¯‰æˆ‘ä»¬</a>æ‚¨æƒ³æ‰¾çš„å½±ç‰‡</p>
</div>
{{ end }}
{{ end }}
