
{{ define "content" }}
<div class="movie-detail">
    <div class="movie-detail-poster">
        <img src="{{ .Movie.Poster }}" alt="{{ .Movie.Title }}">
    </div>

    <div class="movie-detail-info">
        <h1 class="movie-detail-title">
            {{ .Movie.Title }}
            {{ if .Movie.Year }}<span class="year">({{ .Movie.Year }})</span>{{ end }}
        </h1>

        {{ if .Movie.OriginalTitle }}
        <p class="original-title">{{ .Movie.OriginalTitle }}</p>
        {{ end }}

        <div class="movie-meta">
            {{ if .Movie.Rating }}
            <span class="meta-item rating">⭐ {{ .Movie.Rating }}</span>
            {{ end }}
            {{ if .Movie.Duration }}
            <span class="meta-item">⏱️ {{ .Movie.Duration }}</span>
            {{ end }}
        </div>

        {{ if .Movie.Genres }}
        <div class="movie-genres">
            {{ range .Movie.Genres }}
            <span class="tag">{{ . }}</span>
            {{ end }}
        </div>
        {{ end }}

        <div class="movie-actions">
            <a href="/play/{{ .Movie.DoubanID }}" class="btn btn-primary btn-lg">▶️ 播放</a>
            {{ template "favorite_btn.html" (dict "MovieID" .Movie.ID "IsFavorited" .IsFavorited) }}
        </div>

        {{ if .Movie.Summary }}
        <div class="movie-summary">
            <h3>剧情简介</h3>
            <p>{{ .Movie.Summary }}</p>
        </div>
        {{ end }}

        {{ if .Movie.Directors }}
        <div class="movie-crew">
            <h3>导演</h3>
            <div class="person-list">
                {{ range .Movie.Directors }}
                <span class="person">{{ .Name }}</span>
                {{ end }}
            </div>
        </div>
        {{ end }}

        {{ if .Movie.Actors }}
        <div class="movie-crew">
            <h3>主演</h3>
            <div class="person-list">
                {{ range .Movie.Actors }}
                <span class="person">{{ .Name }}{{ if .Role }} 饰 {{ .Role }}{{ end }}</span>
                {{ end }}
            </div>
        </div>
        {{ end }}
    </div>
</div>
{{ end }}
