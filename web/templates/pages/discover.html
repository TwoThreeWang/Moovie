
{{ define "content" }}
<h1 class="page-title">å‘ç°</h1>
<p class="page-subtitle">å‘ç°å…¨ç½‘æœ€çƒ­é—¨çš„å½±è§†ä½œå“</p>

<!-- çƒ­é—¨åˆ†ç±»å¯¼èˆª -->
<div class="tab-nav" style="margin-bottom: 24px;">
    <a href="/discover?type=movie" class="tab-btn {{ if eq .CurrentType "movie" }}active{{ end }}">çƒ­é—¨ç”µå½±</a>
    <a href="/discover?type=tv" class="tab-btn {{ if eq .CurrentType "tv" }}active{{ end }}">çƒ­é—¨ç”µè§†å‰§</a>
    <a href="/discover?type=show" class="tab-btn {{ if eq .CurrentType "show" }}active{{ end }}">çƒ­é—¨ç»¼è‰º</a>
    <a href="/discover?type=cartoon" class="tab-btn {{ if eq .CurrentType "cartoon" }}active{{ end }}">æ—¥æœ¬åŠ¨ç”»</a>
</div>

{{ if .Subjects }}
<div class="movie-grid">
    {{ range .Subjects }}
    <div class="movie-card">
        <a href="/search?kw={{ .Title }}&doubanId={{ .ID }}">
            <div class="movie-poster">
                <img src="{{ .Cover }}" alt="{{ .Title }}" loading="lazy" onerror="this.onerror=null;this.src='/static/img/placeholder.jpg'">
                {{ if .Rate }}
                <span class="movie-rating">{{ .Rate }}</span>
                {{ end }}
                {{ if .EpisodesInfo }}
                <span class="card-badge" style="position: absolute; bottom: 8px; left: 8px; font-size: 0.7rem; background: rgba(0,0,0,0.6); color: white; padding: 2px 6px; border-radius: 4px;">{{ .EpisodesInfo }}</span>
                {{ end }}
            </div>
            <div class="movie-info">
                <h3 class="movie-title" title="{{ .Title }}">{{ .Title }}</h3>
                {{ if .IsNew }}
                <span style="display: inline-block; background: var(--primary); color: white; font-size: 0.65rem; padding: 0 4px; border-radius: 2px; margin-top: 4px;">NEW</span>
                {{ end }}
            </div>
        </a>
    </div>
    {{ end }}
</div>
{{ else }}
<div class="empty-state">
    <p>ğŸ˜• æš‚æ—¶æ²¡æœ‰å‘ç°çƒ­é—¨å†…å®¹</p>
    <p>è¯·ç¨åå†è¯•æˆ–æŸ¥çœ‹å…¶ä»–åˆ†ç±»</p>
</div>
{{ end }}

<section class="section" style="margin-top: 48px;">
    <h2 class="section-title">å¿«é€Ÿç­›é€‰</h2>
    <div class="trending-tags">
        <a href="/search?kw=åŠ¨ä½œ" class="tag">åŠ¨ä½œ</a>
        <a href="/search?kw=å–œå‰§" class="tag">å–œå‰§</a>
        <a href="/search?kw=çˆ±æƒ…" class="tag">çˆ±æƒ…</a>
        <a href="/search?kw=ç§‘å¹»" class="tag">ç§‘å¹»</a>
        <a href="/search?kw=ææ€–" class="tag">ææ€–</a>
        <a href="/search?kw=æ‚¬ç–‘" class="tag">æ‚¬ç–‘</a>
        <a href="/search?kw=åŠ¨ç”»" class="tag">åŠ¨ç”»</a>
        <a href="/search?kw=çºªå½•ç‰‡" class="tag">çºªå½•ç‰‡</a>
        <a href="/search?kw=ç¾å‰§" class="tag">ç¾å‰§</a>
        <a href="/search?kw=éŸ©å‰§" class="tag">éŸ©å‰§</a>
        <a href="/search?kw=æ—¥å‰§" class="tag">æ—¥å‰§</a>
        <a href="/search?kw=å›½äº§å‰§" class="tag">å›½äº§å‰§</a>
        <a href="/search?kw=æ¸¯å‰§" class="tag">æ¸¯å‰§</a>
        <a href="/search?kw=è‹±å‰§" class="tag">è‹±å‰§</a>
    </div>
</section>
{{ end }}
