
{{ define "content" }}
<h1 class="page-title">反馈建议</h1>
<p class="page-subtitle">发现问题或有想看的影片？告诉我们！</p>

<form class="feedback-form" hx-post="/api/feedback" hx-swap="outerHTML">
    <div class="form-group">
        <label for="type">反馈类型</label>
        <select id="type" name="type" required>
            <option value="bug">Bug 报告</option>
            <option value="request">求片</option>
            <option value="suggestion">功能建议</option>
            <option value="dmca">版权投诉</option>
        </select>
    </div>

    <div class="form-group">
        <label for="movie_url">相关链接（可选）</label>
        <input type="url" id="movie_url" name="movie_url" placeholder="如有相关页面，请粘贴链接">
    </div>

    <div class="form-group">
        <label for="content">详细描述</label>
        <textarea id="content" name="content" rows="5" required placeholder="请详细描述您的反馈内容..."></textarea>
    </div>

    <button type="submit" class="btn btn-primary">提交反馈</button>
</form>

{{/* 历史反馈区域 */}}
<section class="feedback-history-section">
    <div class="section-header">
        <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            历史反馈
        </h2>
    </div>
    <div id="feedback-list-container"
         hx-get="/api/htmx/feedback-list?page=1"
         hx-trigger="load"
         hx-swap="innerHTML">
        <div class="feedback-loading">
            <div class="loading-spinner"></div>
            <span>加载中...</span>
        </div>
    </div>
</section>
{{ end }}

