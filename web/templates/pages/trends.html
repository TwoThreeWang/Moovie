
{{ define "content" }}
<!-- 24å°æ—¶çƒ­æœæ¦œå• JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "24å°æ—¶ç”µå½±çƒ­æœæ¦œ - ä»Šæ—¥æœ€ç«",
  "description": "å®æ—¶æ›´æ–°çš„è¿‡å»24å°æ—¶å†…æœç´¢çƒ­åº¦æœ€é«˜çš„ç”µå½±å’Œç”µè§†å‰§",
  "itemListOrder": "https://schema.org/ItemListOrderDescending",
  "numberOfItems": {{ len .Trending24h }},
  "itemListElement": [
    {{ range $index, $item := .Trending24h }}
    {
      "@type": "ListItem",
      "position": {{ add $index 1 }},
      "name": "{{ $item.Keyword | js }}",
      "url": "{{ $.SiteUrl }}/search?kw={{ $item.Keyword }}"
    }{{ if lt $index (sub (len $.Trending24h) 1) }},{{ end }}
    {{ end }}
  ]
}
</script>

<!-- æœ¬æœˆçƒ­æœæ€»æ¦œ JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "æœ¬æœˆç”µå½±æœç´¢æ€»æ¦œ - çƒ­é—¨æ¨è",
  "description": "æ ¹æ®æœ¬æœˆå…¨ç½‘æœç´¢æ•°æ®æ±‡æ€»çš„å½±è§†çƒ­åº¦æ’è¡Œæ¦œ",
  "itemListOrder": "https://schema.org/ItemListOrderDescending",
  "numberOfItems": {{ len .TrendingAll }},
  "itemListElement": [
    {{ range $index, $item := .TrendingAll }}
    {
      "@type": "ListItem",
      "position": {{ add $index 1 }},
      "name": "{{ $item.Keyword | js }}",
      "url": "{{ $.SiteUrl }}/search?kw={{ $item.Keyword }}"
    }{{ if lt $index (sub (len $.TrendingAll) 1) }},{{ end }}
    {{ end }}
  ]
}
</script>
<div class="trends-page">
    <div class="trends-header">
        <h1 class="page-title">ğŸ”¥ æœç´¢è¶‹åŠ¿</h1>
        <span class="trends-update">æ›´æ–°äº {{ .UpdateTime }}</span>
    </div>

    <div class="trends-tabs">
        <button class="tab-btn active" onclick="switchTab(this, '24h')">24å°æ—¶çƒ­æœ</button>
        <button class="tab-btn" onclick="switchTab(this, 'all')">æœ¬æœˆçƒ­æœ</button>
    </div>

    <div id="tab-24h" class="tab-content active">
        {{ if .Trending24h }}
        <div class="trends-list">
            {{ range $i, $item := .Trending24h }}
            <a href="/search?kw={{ $item.Keyword }}" class="trend-item">
                <span class="trend-rank {{ if le (add $i 1) 3 }}top{{ end }}">{{ add $i 1 }}</span>
                <div class="trend-content">
                    <span class="trend-keyword">{{ $item.Keyword }}</span>
                    {{ if $item.Tag }}
                    <span class="trend-tag {{ $item.TagClass }}">{{ $item.Tag }}</span>
                    {{ end }}
                </div>
                <span class="trend-heat">{{ $item.Count }}</span>
            </a>
            {{ end }}
        </div>
        {{ else }}
        <div class="empty-state">
            <p>æš‚æ—  24 å°æ—¶çƒ­æœæ•°æ®</p>
        </div>
        {{ end }}
    </div>

    <div id="tab-all" class="tab-content">
        {{ if .TrendingAll }}
        <div class="trends-list">
            {{ range $i, $item := .TrendingAll }}
            <a href="/search?kw={{ $item.Keyword }}" class="trend-item">
                <span class="trend-rank {{ if le (add $i 1) 3 }}top{{ end }}">{{ add $i 1 }}</span>
                <div class="trend-content">
                    <span class="trend-keyword">{{ $item.Keyword }}</span>
                    {{ if $item.Tag }}
                    <span class="trend-tag {{ $item.TagClass }}">{{ $item.Tag }}</span>
                    {{ end }}
                </div>
                <span class="trend-heat">{{ $item.Count }}</span>
            </a>
            {{ end }}
        </div>
        {{ else }}
        <div class="empty-state">
            <p>æš‚æ— å…¨é‡çƒ­æœæ•°æ®</p>
        </div>
        {{ end }}
    </div>
</div>

<script>
function switchTab(el, tabId) {
    // åˆ‡æ¢æŒ‰é’®çŠ¶æ€
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    el.classList.add('active');

    // åˆ‡æ¢å†…å®¹æ˜¾ç¤º
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
    });
    document.getElementById('tab-' + tabId).classList.add('active');
}
</script>

<style>
/* é€‰é¡¹å¡æ ·å¼ */
.trends-tabs {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--border);
    padding-bottom: 10px;
}

.tab-btn {
    background: none;
    border: none;
    padding: 8px 16px;
    font-size: 1rem;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: 8px;
    transition: all var(--transition);
    font-weight: 500;
}

.tab-btn:hover {
    background: var(--bg-secondary);
    color: var(--text);
}

.tab-btn.active {
    background: var(--primary);
    color: white;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}
/* çƒ­æœé¡µé¢æ ·å¼ */
.trends-page {
    max-width: 700px;
    margin: 0 auto;
    padding: 20px 0;
}

.trends-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}

.trends-update {
    font-size: 0.85rem;
    color: var(--text-muted);
}

.trends-list {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
}

.trend-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 20px;
    border-bottom: 1px solid var(--border);
    transition: background var(--transition);
}

.trend-item:last-child {
    border-bottom: none;
}

.trend-item:hover {
    background: var(--bg-secondary);
}

.trend-rank {
    width: 24px;
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-muted);
    text-align: center;
    flex-shrink: 0;
}

.trend-rank.top {
    color: var(--primary);
}

.trend-content {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
}

.trend-keyword {
    font-size: 0.95rem;
    color: var(--text);
    font-weight: 500;
}

.trend-item:hover .trend-keyword {
    color: var(--primary);
}

.trend-tag {
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 500;
    flex-shrink: 0;
}

.trend-tag.hot {
    background: #ff4757;
    color: white;
}

.trend-tag.new {
    background: #2ed573;
    color: white;
}

.trend-tag.recommend {
    background: #1e90ff;
    color: white;
}

.trend-tag.movie {
    background: #ff9800;
    color: white;
}

.trend-tag.tv {
    background: #9c27b0;
    color: white;
}

.trend-heat {
    font-size: 0.8rem;
    color: var(--text-muted);
    flex-shrink: 0;
}

/* å“åº”å¼ */
@media (max-width: 600px) {
    .trends-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }

    .trend-item {
        padding: 12px 16px;
        gap: 12px;
    }

    .trend-keyword {
        font-size: 0.9rem;
    }
}
</style>
{{ end }}
